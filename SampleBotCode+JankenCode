const http = require("http");
const querystring = require("querystring");
const discord = require("discord.js");
const client = new discord.Client();
const prefix = process.env.prefix;
try {
 // GAS(Google Apps Script)ã‹ã‚‰ã®å—ä¿¡(botã®å¸¸æ™‚èµ·å‹•)
 http.createServer(function(req, res){
  res.write("OK");
  res.end();
 }).listen(8080);
 client.on("ready", message => {
   console.log("Botæº–å‚™å®Œäº†ï½");
   client.user.setActivity(process.env.activity, { type: process.env.acttype }); 
 });
client.on("message", async message => {
 if (message.author.id == client.user.id || message.author.bot) return;
 if (message.mentions.has(client.user)) {
     message.reply("å‘¼ã³ã¾ã—ãŸã‹?");
   }
 if (!message.content.startsWith(prefix)) return; //ãƒœãƒƒãƒˆã®ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã‹ã‚‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå§‹ã¾ã£ã¦ã„ã‚‹ã‹ç¢ºèª
 const args = message.content.slice(prefix.length).trim().split(/ +/g);
 const command = args.shift().toLowerCase();
 if (command === "help") { //ã‚³ãƒãƒ³ãƒ‰å
   message.channel.send({
       embed: {
         title: "ãƒ˜ãƒ«ãƒ—",
         description: "å…¨ã¦ã®ã‚³ãƒãƒ³ãƒ‰ã®åˆã‚ã«`" + prefix + "`ã‚’ã¤ã‘ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚",
         fields: [
           {
             name: "ãƒ˜ãƒ«ãƒ—",
             value: "`help`"
           }
         ]
       }
     });
         client.on('message', async message => {
if (message.content === "ğŸ–ï¸") {let arr = [":v: å‹ã£ãŸãœ", ":fist: è² ã‘ãŸ. . . ã ã¨. . . ", ":hand_splayed: ã‚ã„ã“ã . . . æ¬¡ã¯å‹ã¤ã‹ã‚‰ãªã‚ã‚ã‚", ":v: ã†ã£ã¸ã£ã¸ãƒ¼", ":hand_splayed: ã‚ã„ã“ã ã‹ã‚‰ã¾ã ã„ã„ã‚ˆ. . . ã­. . . "];
  var random = Math.floor(Math.random() * arr.length);
  var result = arr[random];
  message.reply(result)
}});
      client.on('message', async message => {
if (message.content === "âœŒï¸") {let arr = [":v: ã‚ã„ã“ã . . . æ¬¡ã¯å‹ã¤ã‹ã‚‰ãªã‚ã‚ã‚", ":fist: å‹ã£ãŸãœâ˜…", ":hand_splayed: è² ã‘ãŸã‚“ã ã‘ã©", ":v: ã‚ã„ã“ã . . . æ¬¡ã æ¬¡", ":hand_splayed: ã‚ã€ä»Šã®ç·´ç¿’ã­ï½—. . . "];
  var random = Math.floor(Math.random() * arr.length);
  var result = arr[random];
  message.reply(result)
}});
        client.on('message', async message => {
if (message.content === "âœŠ") {let arr = [":v: ãƒãƒ¼ã¨ä½¿ã†ã¨ã‹ãšã‚‹ã„ã‚ˆï¼", ":fist: æ¬¡ã¯å‹ã¤", ":hand_splayed: ã†ã²ã‚ƒã²ã‚ƒğŸ’›", ":v: ã†ãã‚ƒã‚ã‚ã‚ã‚ã‚", ":hand_splayed: Easy!"];
  var random = Math.floor(Math.random() * arr.length);
  var result = arr[random];
  message.reply(result)
}});
 }
});
 if (process.env.DISCORD_BOT_TOKEN == undefined) {
   console.log("DISCORD_BOT_TOKENãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚");
   process.exit(0);
 }
 client.login(process.env.DISCORD_BOT_TOKEN);
} catch (e) {
 console.log(e);
}
